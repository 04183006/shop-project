{"remainingRequest":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\detail\\Detail.vue?vue&type=style&index=0&id=117d0e76&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\detail\\Detail.vue","mtime":1582134361931},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kZXRhaWwgewogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIHotaW5kZXg6IDk7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICAgIGhlaWdodDogMTAwdmg7CiAgfQogIC5jb250ZW50ewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgICBoZWlnaHQ6IDUwMHB4OwogICAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7CiAgfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\r\n  <div class=\"detail\">\r\n      <detail-nav-bar></detail-nav-bar>\r\n      <scroll class=\"content\">\r\n        <detail-swiper :top-images='topImages'></detail-swiper>\r\n        <detail-base-info :goods=\"goods\"></detail-base-info>\r\n        <detail-shop-info :shop=\"shop\"></detail-shop-info>\r\n        <!-- <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"></detail-goods-info> -->\r\n         <!-- <detail-param-info :param-info=\"paramInfo\"></detail-param-info> -->\r\n         <!-- <detail-comment-info :comment-info=\"commentInfo\"></detail-comment-info> -->\r\n         <!-- <goods-list :goods=\"recommends\"></goods-list> -->\r\n      </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from './childComps/DetailNavBar'\r\nimport DetailSwiper from './childComps/DetailSwiper'\r\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\r\nimport DetailShopInfo from './childComps/DetailShopInfo'\r\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo'\r\nimport Scroll from 'components/common/scroll/Scroll'\r\nimport DetailParamInfo from './childComps/DetailParamInfo'\r\nimport DetailCommentInfo from './childComps/DetailCommentInfo'\r\nimport GoodsList from 'components/content/goods/GoodsList'\r\nimport {getDetail, Goods, Shop, GoodsParam, getRecommend} from 'network/detail'\r\nexport default {\r\n    name:'Detail',\r\n    data(){\r\n        return {\r\n            data:'',\r\n            iid:null,\r\n            res:null,\r\n            topImages:[],\r\n            goods:{},\r\n            shop:{},\r\n            detailInfo:{},\r\n            paramInfo:{},\r\n            commentInfo:{},\r\n            recommends:[]\r\n        }\r\n    },\r\n    components:{\r\n        DetailNavBar,\r\n        DetailSwiper,\r\n        DetailBaseInfo,\r\n        DetailShopInfo,\r\n        Scroll,\r\n        DetailGoodsInfo,\r\n        DetailParamInfo,\r\n        DetailCommentInfo,\r\n        GoodsList\r\n    },\r\n    created(){\r\n        //1.获取iid\r\n        this.iid = this.$route.query.iid;\r\n\r\n        //2.根据iid获取数据\r\n       getDetail(this.iid).then(res => {\r\n        //3.抽离详情页数据\r\n    // console.log(res);\r\n        const data = res.result;\r\n        //1.获取顶部轮播数据\r\n        this.topImages = data.itemInfo.topImages;\r\n        // console.log(this.topImages)\r\n\r\n         \r\n\r\n       //2.获取商品信息\r\n       this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\r\n\r\n\r\n       //3.获取商家信息\r\n        this.shop = new Shop(data.shopInfo);\r\n       \r\n        //4.保存商品的详情数据\r\n        this.detailInfo = data.detailInfo\r\n\r\n        //5.获取参数信息\r\n        this.paramInfo = new GoodsParam(data.itemParams.info,data.itemParams.rule);\r\n\r\n        //6.获取评论信息\r\n        if(data.rate.cRate !== 0 ){\r\n            this.commentInfo = data.rate.list[0];\r\n        }\r\n\r\n        //7.请求推荐数据\r\n        getRecommend().then(res => {\r\n            this.recommends = res.data.list;\r\n        })\r\n       })\r\n\r\n       \r\n    },\r\n    methods:{\r\n        imageLoad(){\r\n            this.$refs.scroll.refresh();\r\n    }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .detail {\r\n        position: relative;\r\n        z-index: 9;\r\n        background-color: #ffffff;\r\n        height: 100vh;\r\n    }\r\n    .content{\r\n        background-color: #ffffff;\r\n        height: 500px;\r\n        border: 2px solid red;\r\n    }\r\n</style>>\r\n  \r\n    \r\n"]}]}