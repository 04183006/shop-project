{"remainingRequest":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\home\\Home.vue?vue&type=style&index=0&id=3dd2e005&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\home\\Home.vue","mtime":1581856931987},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNob21lewogIHBhZGRpbmctdG9wOiA0NHB4Owp9Ci5ob21lLW5hdiB7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItdGludCk7CiAgY29sb3I6IHdoaXRlOwogIC8qIOWbuuWumuWcqOmhtumDqCAqLwogIHBvc2l0aW9uOiBmaXhlZDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIHRvcDogMDsKICB6LWluZGV4OiAyOwp9Ci50YWItY29udHJvbHsKICBwb3NpdGlvbjogc3RpY2t5OwogIHRvcDogNDRweDsKICB6LWluZGV4OiAzOwp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <home-swiper :banners='banners'></home-swiper>\n    <recommend-view :recommends='recommends'> </recommend-view>\n    <feature-view></feature-view>\n    <tab-control :titles=\"['流行','新款','精选']\" @tabClick=\"tabClick\"></tab-control>\n    <goods-list :goods=\"showGoods\"></goods-list>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\n\nimport HomeSwiper from './childComps/HomeSwiper';\n\nimport RecommendView from './childComps/RecommendView';\n\nimport FeatureView from './childComps/FeatureView';\n\nimport TabControl from 'components/content/tabControl/TabControl';\n\nimport GoodsList from 'components/content/goods/GoodsList'\n\nimport { getHomeMultidata,getHomeGoods } from \"network/home\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      banners: [{},{},{},{}],\n      recommends: [],\n      currentType:'pop',\n      goods:{\n        'pop':{page:0,list:[]},\n        'new':{page:0,list:[]},\n        'sell':{page:0,list:[]}\n      }\n    };\n  },\n  components: {\n    NavBar,\n    HomeSwiper,\n    RecommendView,\n    FeatureView,\n    TabControl,\n    GoodsList\n  },\n  created() {\n    //1.请求多个数据（主要是轮播图和下面的数据）\n    this.getHomeMultidata();\n\n    //2.请求下面的商品数据\n    this.getHomeGoods('pop');\n    this.getHomeGoods('new');\n    this.getHomeGoods('sell');\n  },\n  methods:{\n    /**\n     * 事件监听相关方法\n     */\n    tabClick(index){\n      switch(index){\n        case 0:\n          this.currentType = 'pop';\n          break;\n        case 1:\n          this.currentType = 'new';\n          break;\n        case 2:\n          this.currentType = 'sell';\n          break;\n      }\n    },\n    /**\n     * 网络请求相关方法\n     */\n    getHomeMultidata(){\n      getHomeMultidata().then(res => {\n      // console.log(res);\n      //处理数据\n      this.banners = res.data.banner.list; //将请求的数据存储起来，避免被垃圾回收\n      this.recommends = res.data.recommend.list;\n      \n    })\n    },\n    getHomeGoods(type){\n      const page = this.goods[type].page + 1;   //请求下一页\n      getHomeGoods(type,page).then(res => {\n        // console.log(res)  //pop 第一页的前30条数据\n        // console.log(res.data.list)\n        this.goods[type].list.push(...res.data.list);\n        this.goods[type].page += 1;\n        //多了一组数据就要page+1\n        // console.log(this.goods);\n      })\n    }\n  },\n  computed:{\n    showGoods(){\n      return this.goods[this.currentType].list;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#home{\n  padding-top: 44px;\n}\n.home-nav {\n  background-color: var(--color-tint);\n  color: white;\n  /* 固定在顶部 */\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 2;\n}\n.tab-control{\n  position: sticky;\n  top: 44px;\n  z-index: 3;\n}\n</style>\n"]}]}