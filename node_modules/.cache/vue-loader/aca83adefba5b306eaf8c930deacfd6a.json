{"remainingRequest":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\src\\views\\home\\Home.vue","mtime":1581856931987},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\Desktop\\Web - VUE\\Vue project\\vue-project\\vue-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhciI7CgppbXBvcnQgSG9tZVN3aXBlciBmcm9tICcuL2NoaWxkQ29tcHMvSG9tZVN3aXBlcic7CgppbXBvcnQgUmVjb21tZW5kVmlldyBmcm9tICcuL2NoaWxkQ29tcHMvUmVjb21tZW5kVmlldyc7CgppbXBvcnQgRmVhdHVyZVZpZXcgZnJvbSAnLi9jaGlsZENvbXBzL0ZlYXR1cmVWaWV3JzsKCmltcG9ydCBUYWJDb250cm9sIGZyb20gJ2NvbXBvbmVudHMvY29udGVudC90YWJDb250cm9sL1RhYkNvbnRyb2wnOwoKaW1wb3J0IEdvb2RzTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0JwoKaW1wb3J0IHsgZ2V0SG9tZU11bHRpZGF0YSxnZXRIb21lR29vZHMgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyczogW3t9LHt9LHt9LHt9XSwKICAgICAgcmVjb21tZW5kczogW10sCiAgICAgIGN1cnJlbnRUeXBlOidwb3AnLAogICAgICBnb29kczp7CiAgICAgICAgJ3BvcCc6e3BhZ2U6MCxsaXN0OltdfSwKICAgICAgICAnbmV3Jzp7cGFnZTowLGxpc3Q6W119LAogICAgICAgICdzZWxsJzp7cGFnZTowLGxpc3Q6W119CiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXIsCiAgICBIb21lU3dpcGVyLAogICAgUmVjb21tZW5kVmlldywKICAgIEZlYXR1cmVWaWV3LAogICAgVGFiQ29udHJvbCwKICAgIEdvb2RzTGlzdAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vMS7or7fmsYLlpJrkuKrmlbDmja7vvIjkuLvopoHmmK/ova7mkq3lm77lkozkuIvpnaLnmoTmlbDmja7vvIkKICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YSgpOwoKICAgIC8vMi7or7fmsYLkuIvpnaLnmoTllYblk4HmlbDmja4KICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdwb3AnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCduZXcnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdzZWxsJyk7CiAgfSwKICBtZXRob2RzOnsKICAgIC8qKgogICAgICog5LqL5Lu255uR5ZCs55u45YWz5pa55rOVCiAgICAgKi8KICAgIHRhYkNsaWNrKGluZGV4KXsKICAgICAgc3dpdGNoKGluZGV4KXsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ3BvcCc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ25ldyc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ3NlbGwnOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOe9kee7nOivt+axguebuOWFs+aWueazlQogICAgICovCiAgICBnZXRIb21lTXVsdGlkYXRhKCl7CiAgICAgIGdldEhvbWVNdWx0aWRhdGEoKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIC8v5aSE55CG5pWw5o2uCiAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OyAvL+Wwhuivt+axgueahOaVsOaNruWtmOWCqOi1t+adpe+8jOmBv+WFjeiiq+Weg+WcvuWbnuaUtgogICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5yZWNvbW1lbmQubGlzdDsKICAgICAgCiAgICB9KQogICAgfSwKICAgIGdldEhvbWVHb29kcyh0eXBlKXsKICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDE7ICAgLy/or7fmsYLkuIvkuIDpobUKICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUscGFnZSkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykgIC8vcG9wIOesrOS4gOmhteeahOWJjTMw5p2h5pWw5o2uCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEubGlzdCkKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLmxpc3QucHVzaCguLi5yZXMuZGF0YS5saXN0KTsKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgKz0gMTsKICAgICAgICAvL+WkmuS6huS4gOe7hOaVsOaNruWwseimgXBhZ2UrMQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ29vZHMpOwogICAgICB9KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgc2hvd0dvb2RzKCl7CiAgICAgIHJldHVybiB0aGlzLmdvb2RzW3RoaXMuY3VycmVudFR5cGVdLmxpc3Q7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <home-swiper :banners='banners'></home-swiper>\n    <recommend-view :recommends='recommends'> </recommend-view>\n    <feature-view></feature-view>\n    <tab-control :titles=\"['流行','新款','精选']\" @tabClick=\"tabClick\"></tab-control>\n    <goods-list :goods=\"showGoods\"></goods-list>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\n\nimport HomeSwiper from './childComps/HomeSwiper';\n\nimport RecommendView from './childComps/RecommendView';\n\nimport FeatureView from './childComps/FeatureView';\n\nimport TabControl from 'components/content/tabControl/TabControl';\n\nimport GoodsList from 'components/content/goods/GoodsList'\n\nimport { getHomeMultidata,getHomeGoods } from \"network/home\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      banners: [{},{},{},{}],\n      recommends: [],\n      currentType:'pop',\n      goods:{\n        'pop':{page:0,list:[]},\n        'new':{page:0,list:[]},\n        'sell':{page:0,list:[]}\n      }\n    };\n  },\n  components: {\n    NavBar,\n    HomeSwiper,\n    RecommendView,\n    FeatureView,\n    TabControl,\n    GoodsList\n  },\n  created() {\n    //1.请求多个数据（主要是轮播图和下面的数据）\n    this.getHomeMultidata();\n\n    //2.请求下面的商品数据\n    this.getHomeGoods('pop');\n    this.getHomeGoods('new');\n    this.getHomeGoods('sell');\n  },\n  methods:{\n    /**\n     * 事件监听相关方法\n     */\n    tabClick(index){\n      switch(index){\n        case 0:\n          this.currentType = 'pop';\n          break;\n        case 1:\n          this.currentType = 'new';\n          break;\n        case 2:\n          this.currentType = 'sell';\n          break;\n      }\n    },\n    /**\n     * 网络请求相关方法\n     */\n    getHomeMultidata(){\n      getHomeMultidata().then(res => {\n      // console.log(res);\n      //处理数据\n      this.banners = res.data.banner.list; //将请求的数据存储起来，避免被垃圾回收\n      this.recommends = res.data.recommend.list;\n      \n    })\n    },\n    getHomeGoods(type){\n      const page = this.goods[type].page + 1;   //请求下一页\n      getHomeGoods(type,page).then(res => {\n        // console.log(res)  //pop 第一页的前30条数据\n        // console.log(res.data.list)\n        this.goods[type].list.push(...res.data.list);\n        this.goods[type].page += 1;\n        //多了一组数据就要page+1\n        // console.log(this.goods);\n      })\n    }\n  },\n  computed:{\n    showGoods(){\n      return this.goods[this.currentType].list;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#home{\n  padding-top: 44px;\n}\n.home-nav {\n  background-color: var(--color-tint);\n  color: white;\n  /* 固定在顶部 */\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 2;\n}\n.tab-control{\n  position: sticky;\n  top: 44px;\n  z-index: 3;\n}\n</style>\n"]}]}